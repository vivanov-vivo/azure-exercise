  - task: AzureCLI@2
    inputs:
      azureSubscription: 'Azure subscription 1(e3e51142-3541-4bfd-b487-bd80bb6ca424)'
      scriptType: 'bash'
      scriptLocation: 'inlineScript'
      inlineScript: |
        RESOURCE_GROUP=$(resourceGroup)
                LOCATION=$(location)
                
                # Check if the resource group exists
                RG_EXISTS=$(az group show --name $RESOURCE_GROUP --query "name" --output tsv)
                
                if [ -z "$RG_EXISTS" ]; then
                  echo "Resource group does not exist. Creating resource group..."
                  az group create --name $RESOURCE_GROUP --location $LOCATION
                else
                  echo "Resource group '$RESOURCE_GROUP' already exists. Skipping creation."
                fi
